define(["marionette","apps/config/marionette/regions/dialog"],function(t){var e=new t.Application;return e.addRegions({headerRegion:"#header-region",mainRegion:"#main-region",dialogRegion:t.Region.Dialog.extend({el:"#dialog-region"})}),e.navigate=function(t,e){e||(e={}),Backbone.history.navigate(t,e)},e.getCurrentRoute=function(){return Backbone.history.fragment},e.startSubApp=function(t,i){var n=t?e.module(t):null;e.currentApp!==n&&(e.currentApp&&e.currentApp.stop(),e.currentApp=n,n&&n.start(i))},e.on("initialize:after",function(){Backbone.history&&require(["apps/contacts/contacts_app","apps/about/about_app"],function(){Backbone.history.start(),""===e.getCurrentRoute()&&e.trigger("contacts:list")})}),e});