define(["app"],function(t){return t.module("ContactsApp",function(t){t.startWithParent=!1,t.onStart=function(){console.log("starting ContactsApp")},t.onStop=function(){console.log("stopping ContactsApp")}}),t.module("Routers.ContactsApp",function(t,e,i,n){t.Router=n.AppRouter.extend({appRoutes:{"contacts(/filter/criterion::criterion)":"listContacts","contacts/:id":"showContact","contacts/:id/edit":"editContact"}});var s=function(t,i){e.startSubApp("ContactsApp"),t(i),e.execute("set:active:header","contacts")},r={listContacts:function(t){require(["apps/contacts/list/list_controller"],function(e){s(e.listContacts,t)})},showContact:function(t){require(["apps/contacts/show/show_controller"],function(e){s(e.showContact,t)})},editContact:function(t){require(["apps/contacts/edit/edit_controller"],function(e){s(e.editContact,t)})}};e.on("contacts:list",function(){e.navigate("contacts"),r.listContacts()}),e.on("contacts:filter",function(t){t?e.navigate("contacts/filter/criterion:"+t):e.navigate("contacts")}),e.on("contact:show",function(t){e.navigate("contacts/"+t),r.showContact(t)}),e.on("contact:edit",function(t){e.navigate("contacts/"+t+"/edit"),r.editContact(t)}),e.addInitializer(function(){new t.Router({controller:r})})}),t.ContactsAppRouter});