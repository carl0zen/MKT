define(["app","tpl!apps/contacts/list/templates/layout.tpl","tpl!apps/contacts/list/templates/panel.tpl","tpl!apps/contacts/list/templates/none.tpl","tpl!apps/contacts/list/templates/list.tpl","tpl!apps/contacts/list/templates/list_item.tpl"],function(t,e,i,n,s,r){return t.module("ContactsApp.List.View",function(t,o,a,l){t.Layout=l.Layout.extend({template:e,regions:{panelRegion:"#panel-region",contactsRegion:"#contacts-region"}}),t.Panel=l.ItemView.extend({template:i,triggers:{"click button.js-new":"contact:new"},events:{"submit #filter-form":"filterContacts"},ui:{criterion:"input.js-filter-criterion"},filterContacts:function(t){t.preventDefault();var e=this.$(".js-filter-criterion").val();this.trigger("contacts:filter",e)},onSetFilterCriterion:function(t){this.ui.criterion.val(t)}}),t.Contact=l.ItemView.extend({tagName:"tr",template:r,events:{click:"highlightName","click td a.js-show":"showClicked","click td a.js-edit":"editClicked","click button.js-delete":"deleteClicked"},flash:function(t){var e=this.$el;e.hide().toggleClass(t).fadeIn(800,function(){setTimeout(function(){e.toggleClass(t)},500)})},highlightName:function(){this.$el.toggleClass("warning")},showClicked:function(t){t.preventDefault(),t.stopPropagation(),this.trigger("contact:show",this.model)},editClicked:function(t){t.preventDefault(),t.stopPropagation(),this.trigger("contact:edit",this.model)},deleteClicked:function(t){t.stopPropagation(),this.trigger("contact:delete",this.model)},remove:function(){var t=this;this.$el.fadeOut(function(){l.ItemView.prototype.remove.call(t)})}});var c=l.ItemView.extend({template:n,tagName:"tr",className:"alert"});t.Contacts=l.CompositeView.extend({tagName:"table",className:"table table-hover",template:s,emptyView:c,itemView:t.Contact,itemViewContainer:"tbody",initialize:function(){this.listenTo(this.collection,"reset",function(){this.appendHtml=function(t,e){t.$el.append(e.el)}})},onCompositeCollectionRendered:function(){this.appendHtml=function(t,e){t.$el.prepend(e.el)}}})}),t.ContactsApp.List.View});