define(["app","apps/contacts/edit/edit_view"],function(t,e){return t.module("ContactsApp.Edit",function(t,i,n,s,r){t.Controller={editContact:function(t){require(["common/views","entities/contact"],function(n){var s=new n.Loading({title:"Artificial Loading Delay",message:"Data loading is delayed to demonstrate using a loading view."});i.mainRegion.show(s);var o=i.request("contact:entity",t);r.when(o).done(function(t){var n;void 0!==t?(n=new e.Contact({model:t,generateTitle:!0}),n.on("form:submit",function(e){t.save(e)?i.trigger("contact:show",t.get("id")):n.triggerMethod("form:data:invalid",t.validationError)})):n=new i.ContactsApp.Show.MissingContact,i.mainRegion.show(n)})})}}}),t.ContactsApp.Edit.Controller});