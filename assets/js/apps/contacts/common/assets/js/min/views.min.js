define(["app","tpl!apps/contacts/common/templates/form.tpl","backbone.syphon"],function(t,e){return t.module("ContactsApp.Common.Views",function(t,i,n,s,r,o){t.Form=s.ItemView.extend({template:e,events:{"click button.js-submit":"submitClicked"},submitClicked:function(t){t.preventDefault();var e=n.Syphon.serialize(this);this.trigger("form:submit",e)},onFormDataInvalid:function(t){var e=this.$el,i=function(){var t=e.find("form");t.find(".help-inline.error").each(function(){r(this).remove()}),t.find(".control-group.error").each(function(){r(this).removeClass("error")})},n=function(t,i){var n=e.find("#contact-"+i).parent(),s=r("<span>",{"class":"help-inline error",text:t});n.append(s).addClass("error")};i(),o.each(t,n)}})}),t.ContactsApp.Common.Views});